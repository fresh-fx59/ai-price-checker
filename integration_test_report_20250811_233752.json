{
  "start_time": "2025-08-11T23:19:48.031211",
  "end_time": "2025-08-11T23:37:52.533871",
  "duration": 1084.5026080608368,
  "total_tests": 80,
  "passed_tests": 63,
  "failed_tests": 14,
  "skipped_tests": 0,
  "error_tests": 3,
  "test_results": [
    {
      "module": "test_comprehensive_validation",
      "tests_run": 13,
      "failures": 5,
      "errors": 2,
      "skipped": 0,
      "success": false,
      "output": "test_complete_system_integration (tests.test_comprehensive_validation.TestAllRequirementsIntegration.test_complete_system_integration)\nTest all requirements working together in a complete workflow. ... ERROR\ntest_product_information_parsing (tests.test_comprehensive_validation.TestRequirement1AddProductURLs.test_product_information_parsing)\nTest product name, price, and image extraction. ... ok\ntest_url_validation_and_accessibility (tests.test_comprehensive_validation.TestRequirement1AddProductURLs.test_url_validation_and_accessibility)\nTest URL format validation and accessibility checking. ... ok\ntest_daily_price_check_workflow (tests.test_comprehensive_validation.TestRequirement2AutomaticDailyChecks.test_daily_price_check_workflow)\nTest complete daily price checking workflow. ... FAIL\ntest_multiple_products_checking (tests.test_comprehensive_validation.TestRequirement2AutomaticDailyChecks.test_multiple_products_checking)\nTest checking multiple products in daily run. ... FAIL\ntest_price_drop_email_notification (tests.test_comprehensive_validation.TestRequirement3EmailNotifications.test_price_drop_email_notification)\nTest email notification when price drops. ... FAIL\ntest_configuration_loading_and_validation (tests.test_comprehensive_validation.TestRequirement4ConfigurationManagement.test_configuration_loading_and_validation)\nTest configuration loading and validation. ... ok\ntest_missing_configuration_handling (tests.test_comprehensive_validation.TestRequirement4ConfigurationManagement.test_missing_configuration_handling)\nTest handling of missing required configuration. ... FAIL\ntest_docker_container_lifecycle (tests.test_comprehensive_validation.TestRequirement5DockerDeployment.test_docker_container_lifecycle)\nTest Docker container initialization and lifecycle. ... ok\ntest_product_viewing_and_management (tests.test_comprehensive_validation.TestRequirement6ProductManagement.test_product_viewing_and_management)\nTest product viewing and management functionality. ... ok\ntest_manual_price_update_workflow (tests.test_comprehensive_validation.TestRequirement7ManualPriceUpdates.test_manual_price_update_workflow)\nTest manual price update functionality. ... ERROR\ntest_price_history_tracking (tests.test_comprehensive_validation.TestRequirement8PriceHistoryTracking.test_price_history_tracking)\nTest comprehensive price history tracking. ... FAIL\ntest_multiple_parsing_strategies (tests.test_comprehensive_validation.TestRequirement9AIParsingTools.test_multiple_parsing_strategies)\nTest multiple parsing strategies and fallback handling. ... ok\n\n======================================================================\nERROR: test_complete_system_integration (tests.test_comprehensive_validation.TestAllRequirementsIntegration.test_complete_system_integration)\nTest all requirements working together in a complete workflow.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 803, in test_complete_system_integration\n    app.product_service.update_price_manually(product.id, 139.99)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ProductService' object has no attribute 'update_price_manually'\n\nStdout:\n2025-08-11 23:19:48,526 - src.main - INFO - Basic logging initialized\n2025-08-11 23:19:48,527 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:19:48,527 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpgukck0nl/validation_config.properties\n2025-08-11 23:19:48,527 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:19:48,528 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:19:48,528 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:19:48,528 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:19:48,528 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:19:48,528 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:19:48,528 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpgukck0nl/validation_database.db\n2025-08-11 23:19:48,534 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpgukck0nl/validation_database.db\n2025-08-11 23:19:48,534 - src.main - INFO - Initializing services...\n2025-08-11 23:19:48,534 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:19:48,534 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:19:48,550 - src.services.email_service - ERROR - Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:19:48,551 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:19:48,551 - src.main - INFO - All services initialized successfully\n2025-08-11 23:19:48,551 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:19:48,552 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:19:48,552 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:19:48,552 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:19:48,554 - src.main - INFO - Flask application initialized\n2025-08-11 23:19:48,554 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:19:48,554 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:19:48,554 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:19:48,555 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:19:48,555 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:19:48,555 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:19:48,555 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:19:48,564 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:19:53,570 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:19:53,570 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:19:53,571 - src.main - INFO - Graceful shutdown completed\n\n======================================================================\nERROR: test_manual_price_update_workflow (tests.test_comprehensive_validation.TestRequirement7ManualPriceUpdates.test_manual_price_update_workflow)\nTest manual price update functionality.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 608, in test_manual_price_update_workflow\n    update_result = app.product_service.update_price_manually(product.id, manual_price)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ProductService' object has no attribute 'update_price_manually'\n\nStdout:\n2025-08-11 23:20:54,879 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:54,879 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:54,879 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmp1lo6xz4w/validation_config.properties\n2025-08-11 23:20:54,880 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:54,880 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:54,880 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:54,880 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:54,881 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:54,881 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:54,881 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmp1lo6xz4w/validation_database.db\n2025-08-11 23:20:54,886 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmp1lo6xz4w/validation_database.db\n2025-08-11 23:20:54,886 - src.main - INFO - Initializing services...\n2025-08-11 23:20:54,886 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:54,886 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:54,913 - src.services.email_service - ERROR - Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:54,914 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:54,915 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:54,915 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:54,916 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:54,916 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:54,916 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:54,919 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:54,919 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:54,919 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:54,919 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:54,919 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:54,919 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:54,919 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:54,919 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:54,920 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:54,925 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:59,927 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:59,928 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:59,930 - src.main - INFO - Graceful shutdown completed\n\n======================================================================\nFAIL: test_daily_price_check_workflow (tests.test_comprehensive_validation.TestRequirement2AutomaticDailyChecks.test_daily_price_check_workflow)\nTest complete daily price checking workflow.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 297, in test_daily_price_check_workflow\n    self.assertTrue(check_result.success)\nAssertionError: False is not true\n\nStdout:\n2025-08-11 23:20:03,690 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:03,690 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:03,690 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_config.properties\n2025-08-11 23:20:03,692 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:03,692 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:03,693 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:03,693 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:03,694 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:03,694 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:03,694 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:03,698 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:03,698 - src.main - INFO - Initializing services...\n2025-08-11 23:20:03,698 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:03,698 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:03,727 - src.services.email_service - ERROR - Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:03,728 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:03,728 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:03,728 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:03,729 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:03,729 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:03,730 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:03,732 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:03,732 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:03,732 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:03,732 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:03,732 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:03,732 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:03,732 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:03,733 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:03,739 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:03,740 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:04,607 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:04,607 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:04,607 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:04,607 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:05,608 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:05,814 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:05,814 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:05,815 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:05,815 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:07,819 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:08,026 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:08,027 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:08,027 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:08,027 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:12,031 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:12,242 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:12,246 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:12,247 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:12,247 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:12,247 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:12,248 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:17,253 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:17,254 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:17,254 - src.main - INFO - Graceful shutdown completed\n\n======================================================================\nFAIL: test_multiple_products_checking (tests.test_comprehensive_validation.TestRequirement2AutomaticDailyChecks.test_multiple_products_checking)\nTest checking multiple products in daily run.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 359, in test_multiple_products_checking\n    self.assertEqual(mock_scraping_instance.fetch_page_content.call_count, 4)  # 2 for adding + 2 for checking\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError: 0 != 4\n\nStdout:\n2025-08-11 23:20:17,258 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:17,258 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:17,258 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_config.properties\n2025-08-11 23:20:17,259 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:17,260 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:17,260 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:17,260 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:17,261 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:17,261 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:17,261 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:17,265 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:17,266 - src.main - INFO - Initializing services...\n2025-08-11 23:20:17,266 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:17,266 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:17,294 - src.services.email_service - ERROR - Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:17,295 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:17,295 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:17,295 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:17,296 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:17,296 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:17,296 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:17,298 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:17,298 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:17,298 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:17,298 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:17,299 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:17,299 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:17,299 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:17,299 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:17,299 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:17,300 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:17,300 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:17,300 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:17,300 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:17,304 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/2\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:17,305 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:17,308 - src.services.price_monitor_service - INFO - Starting price check for 2 products\n2025-08-11 23:20:17,309 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/2)\n2025-08-11 23:20:17,310 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:17,310 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:17,310 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:17,919 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:17,920 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:17,920 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:17,920 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:18,534 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:18,535 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:18,535 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:18,535 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/2 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:18,930 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:19,137 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:19,138 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:19,138 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:19,138 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:19,537 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:19,805 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:19,806 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:19,806 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:19,806 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/2 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:21,143 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:21,375 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:21,375 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:21,376 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:21,376 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:21,808 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:22,012 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:22,012 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:22,012 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:22,012 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/2 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:25,381 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:25,596 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:25,597 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:25,598 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:25,598 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:25,598 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:26,017 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:26,218 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:26,219 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:26,219 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:26,219 - src.services.price_monitor_service - ERROR - Product 2 (https://example.com/product/2) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:26,219 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:26,220 - src.services.price_monitor_service - INFO - Price check completed: 0/2 successful, 0 price drops, 0 new lowest prices, 0 notifications sent, 0 notification failures, duration: 8.9s\n2025-08-11 23:20:26,220 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:31,225 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:31,227 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:31,227 - src.main - INFO - Graceful shutdown completed\n\n======================================================================\nFAIL: test_price_drop_email_notification (tests.test_comprehensive_validation.TestRequirement3EmailNotifications.test_price_drop_email_notification)\nTest email notification when price drops.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 403, in test_price_drop_email_notification\n    self.assertTrue(check_result.success)\nAssertionError: False is not true\n\nStdout:\n2025-08-11 23:20:31,233 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:31,233 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:31,233 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpjx8mdv59/validation_config.properties\n2025-08-11 23:20:31,234 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:31,234 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:31,234 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:31,234 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:31,235 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:31,235 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:31,235 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpjx8mdv59/validation_database.db\n2025-08-11 23:20:31,240 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpjx8mdv59/validation_database.db\n2025-08-11 23:20:31,240 - src.main - INFO - Initializing services...\n2025-08-11 23:20:31,240 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:31,241 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:31,267 - src.services.email_service - ERROR - Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:31,268 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:31,268 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:31,268 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:31,269 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:31,269 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:31,269 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:31,272 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:31,272 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:31,272 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:31,272 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:31,272 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:31,272 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:31,272 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:31,272 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:31,273 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:31,279 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:31,279 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:31,906 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:31,906 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:31,907 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:31,907 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:32,910 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:33,111 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:33,111 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:33,111 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:33,111 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:35,117 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:35,507 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:35,507 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:35,507 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:35,507 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:39,512 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:39,712 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:39,712 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:39,713 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:39,713 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:39,713 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:39,713 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:44,718 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:44,718 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:44,719 - src.main - INFO - Graceful shutdown completed\n\n======================================================================\nFAIL: test_missing_configuration_handling (tests.test_comprehensive_validation.TestRequirement4ConfigurationManagement.test_missing_configuration_handling)\nTest handling of missing required configuration.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 482, in test_missing_configuration_handling\n    with self.assertRaises(Exception) as context:\nAssertionError: Exception not raised\n\nStdout:\n2025-08-11 23:20:49,768 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:49,768 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:49,768 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpd45r2pd9/incomplete_config.properties\n2025-08-11 23:20:49,768 - src.main - ERROR - Failed to load configuration: Configuration validation failed:\nConfiguration Errors:\n  - ERROR: smtp_server - SMTP server is required for email notifications\n  - ERROR: smtp_username - SMTP username is required for email authentication\n  - ERROR: smtp_password - SMTP password is required for email authentication\n  - ERROR: recipient_email - Recipient email is required for notifications\n\n======================================================================\nFAIL: test_price_history_tracking (tests.test_comprehensive_validation.TestRequirement8PriceHistoryTracking.test_price_history_tracking)\nTest comprehensive price history tracking.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 679, in test_price_history_tracking\n    self.assertEqual(updated_product.current_price, 119.99)\nAssertionError: 149.99 != 119.99\n\nStdout:\n2025-08-11 23:20:59,935 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:59,935 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:59,935 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppzkued2e/validation_config.properties\n2025-08-11 23:20:59,936 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:59,937 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:59,937 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:59,937 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:59,938 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:59,938 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:59,938 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppzkued2e/validation_database.db\n2025-08-11 23:20:59,942 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppzkued2e/validation_database.db\n2025-08-11 23:20:59,943 - src.main - INFO - Initializing services...\n2025-08-11 23:20:59,943 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:59,943 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:59,971 - src.services.email_service - ERROR - Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:59,974 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:59,976 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:59,976 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:59,977 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:59,980 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:59,980 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:59,983 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:59,984 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:59,984 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:59,984 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:59,984 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:59,984 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:59,985 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:59,985 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:59,985 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:59,985 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:59,986 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:59,986 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:59,986 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:59,991 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:59,991 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:00,593 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:00,594 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:00,594 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:00,595 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:21:01,600 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:01,851 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:01,851 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:01,851 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:01,851 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:21:03,852 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:04,051 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:04,051 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:04,052 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:04,052 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:21:08,052 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:08,449 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:08,449 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:08,450 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:08,450 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:21:08,450 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:21:08,452 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:21:13,457 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:21:13,458 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:21:13,458 - src.main - INFO - Graceful shutdown completed\n\n----------------------------------------------------------------------\nRan 13 tests in 89.993s\n\nFAILED (failures=5, errors=2)\n",
      "failure_details": [
        {
          "test": "test_daily_price_check_workflow (tests.test_comprehensive_validation.TestRequirement2AutomaticDailyChecks.test_daily_price_check_workflow)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 297, in test_daily_price_check_workflow\n    self.assertTrue(check_result.success)\nAssertionError: False is not true\n\nStdout:\n2025-08-11 23:20:03,690 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:03,690 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:03,690 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_config.properties\n2025-08-11 23:20:03,692 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:03,692 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:03,693 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:03,693 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:03,694 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:03,694 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:03,694 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:03,698 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:03,698 - src.main - INFO - Initializing services...\n2025-08-11 23:20:03,698 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:03,698 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:03,727 - src.services.email_service - ERROR - Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:03,728 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:03,728 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:03,728 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:03,729 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:03,729 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:03,730 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:03,732 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:03,732 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:03,732 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:03,732 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:03,732 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:03,732 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:03,732 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:03,733 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:03,733 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:03,739 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:03,740 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:04,607 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:04,607 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:04,607 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:04,607 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:05,608 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:05,814 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:05,814 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:05,815 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:05,815 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:07,819 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:08,026 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:08,027 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:08,027 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:08,027 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:12,031 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:12,242 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:12,246 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:12,247 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:12,247 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:12,247 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:12,248 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:17,253 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:17,254 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:17,254 - src.main - INFO - Graceful shutdown completed\n"
        },
        {
          "test": "test_multiple_products_checking (tests.test_comprehensive_validation.TestRequirement2AutomaticDailyChecks.test_multiple_products_checking)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 359, in test_multiple_products_checking\n    self.assertEqual(mock_scraping_instance.fetch_page_content.call_count, 4)  # 2 for adding + 2 for checking\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError: 0 != 4\n\nStdout:\n2025-08-11 23:20:17,258 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:17,258 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:17,258 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_config.properties\n2025-08-11 23:20:17,259 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:17,260 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:17,260 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:17,260 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:17,261 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:17,261 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:17,261 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:17,265 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppjp55rvl/validation_database.db\n2025-08-11 23:20:17,266 - src.main - INFO - Initializing services...\n2025-08-11 23:20:17,266 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:17,266 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:17,294 - src.services.email_service - ERROR - Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:17,295 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:17,295 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:17,295 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:17,296 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:17,296 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:17,296 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:17,298 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:17,298 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:17,298 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:17,298 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:17,299 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:17,299 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:17,299 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:17,299 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:17,299 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:17,300 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:17,300 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:17,300 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:17,300 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:17,304 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/2\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:17,305 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:17,305 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:17,308 - src.services.price_monitor_service - INFO - Starting price check for 2 products\n2025-08-11 23:20:17,309 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/2)\n2025-08-11 23:20:17,310 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:17,310 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:17,310 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:17,919 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:17,920 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:17,920 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:17,920 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:18,534 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:18,535 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:18,535 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:18,535 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/2 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:18,930 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:19,137 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:19,138 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:19,138 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:19,138 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:19,537 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:19,805 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:19,806 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:19,806 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:19,806 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/2 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:21,143 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:21,375 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:21,375 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:21,376 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:21,376 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:21,808 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:22,012 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:22,012 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:22,012 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:22,012 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/2 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:25,381 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:25,596 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:25,597 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:25,598 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:25,598 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:25,598 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:26,017 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/2 (attempt 1)\n2025-08-11 23:20:26,218 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/2: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:26,219 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/2: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:26,219 - src.services.price_monitor_service - WARNING - Price check failed for product 2 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/2\n2025-08-11 23:20:26,219 - src.services.price_monitor_service - ERROR - Product 2 (https://example.com/product/2) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:26,219 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:26,220 - src.services.price_monitor_service - INFO - Price check completed: 0/2 successful, 0 price drops, 0 new lowest prices, 0 notifications sent, 0 notification failures, duration: 8.9s\n2025-08-11 23:20:26,220 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:31,225 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:31,227 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:31,227 - src.main - INFO - Graceful shutdown completed\n"
        },
        {
          "test": "test_price_drop_email_notification (tests.test_comprehensive_validation.TestRequirement3EmailNotifications.test_price_drop_email_notification)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 403, in test_price_drop_email_notification\n    self.assertTrue(check_result.success)\nAssertionError: False is not true\n\nStdout:\n2025-08-11 23:20:31,233 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:31,233 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:31,233 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpjx8mdv59/validation_config.properties\n2025-08-11 23:20:31,234 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:31,234 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:31,234 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:31,234 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:31,235 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:31,235 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:31,235 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpjx8mdv59/validation_database.db\n2025-08-11 23:20:31,240 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpjx8mdv59/validation_database.db\n2025-08-11 23:20:31,240 - src.main - INFO - Initializing services...\n2025-08-11 23:20:31,240 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:31,241 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:31,267 - src.services.email_service - ERROR - Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:31,268 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:31,268 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:31,268 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:31,269 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:31,269 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:31,269 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:31,272 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:31,272 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:31,272 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:31,272 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:31,272 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:31,272 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:31,272 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:31,272 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:31,273 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:31,273 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:31,279 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:31,279 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:31,906 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:31,906 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:31,907 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:31,907 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:20:32,910 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:33,111 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:33,111 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:33,111 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:33,111 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:20:35,117 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:35,507 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:35,507 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:35,507 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:35,507 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:20:39,512 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:20:39,712 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:39,712 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:39,713 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:20:39,713 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:20:39,713 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:20:39,713 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:44,718 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:44,718 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:44,719 - src.main - INFO - Graceful shutdown completed\n"
        },
        {
          "test": "test_missing_configuration_handling (tests.test_comprehensive_validation.TestRequirement4ConfigurationManagement.test_missing_configuration_handling)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 482, in test_missing_configuration_handling\n    with self.assertRaises(Exception) as context:\nAssertionError: Exception not raised\n\nStdout:\n2025-08-11 23:20:49,768 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:49,768 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:49,768 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpd45r2pd9/incomplete_config.properties\n2025-08-11 23:20:49,768 - src.main - ERROR - Failed to load configuration: Configuration validation failed:\nConfiguration Errors:\n  - ERROR: smtp_server - SMTP server is required for email notifications\n  - ERROR: smtp_username - SMTP username is required for email authentication\n  - ERROR: smtp_password - SMTP password is required for email authentication\n  - ERROR: recipient_email - Recipient email is required for notifications\n"
        },
        {
          "test": "test_price_history_tracking (tests.test_comprehensive_validation.TestRequirement8PriceHistoryTracking.test_price_history_tracking)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 679, in test_price_history_tracking\n    self.assertEqual(updated_product.current_price, 119.99)\nAssertionError: 149.99 != 119.99\n\nStdout:\n2025-08-11 23:20:59,935 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:59,935 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:59,935 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppzkued2e/validation_config.properties\n2025-08-11 23:20:59,936 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:59,937 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:59,937 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:59,937 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:59,938 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:59,938 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:59,938 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppzkued2e/validation_database.db\n2025-08-11 23:20:59,942 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmppzkued2e/validation_database.db\n2025-08-11 23:20:59,943 - src.main - INFO - Initializing services...\n2025-08-11 23:20:59,943 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:59,943 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:59,971 - src.services.email_service - ERROR - Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:59,974 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: [Errno 8] nodename nor servname provided, or not known\n2025-08-11 23:20:59,976 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:59,976 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:59,977 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:59,980 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:59,980 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:59,983 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:59,984 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:59,984 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:59,984 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:59,984 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:59,984 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:59,985 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:59,985 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:59,985 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:59,985 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:59,986 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:59,986 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:59,986 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:59,991 - src.services.price_monitor_service - INFO - Checking price for product: Premium Test Widget (https://example.com/product/1)\n2025-08-11 23:20:59,991 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:00,593 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:00,594 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:00,594 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 1): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:00,595 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 1.0 seconds (attempt 2/4)\n2025-08-11 23:21:01,600 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:01,851 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:01,851 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:01,851 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 2): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:01,851 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 2.0 seconds (attempt 3/4)\n2025-08-11 23:21:03,852 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:04,051 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:04,051 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:04,052 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 3): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:04,052 - src.services.price_monitor_service - INFO - Retrying https://example.com/product/1 in 4.0 seconds (attempt 4/4)\n2025-08-11 23:21:08,052 - src.services.web_scraping_service - INFO - Fetching URL: https://example.com/product/1 (attempt 1)\n2025-08-11 23:21:08,449 - src.services.web_scraping_service - WARNING - HTTP error fetching https://example.com/product/1: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:08,449 - src.services.price_monitor_service - ERROR - Scraping failed for https://example.com/product/1: Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:08,450 - src.services.price_monitor_service - WARNING - Price check failed for product 1 (attempt 4): Failed to fetch page: HTTP error 404: 404 Client Error: Not Found for url: https://example.com/product/1\n2025-08-11 23:21:08,450 - src.services.price_monitor_service - ERROR - Product 1 (https://example.com/product/1) failed all 4 attempts. Total consecutive failures: 4\n2025-08-11 23:21:08,450 - src.services.logging_service - INFO - Performance metric: price_check\n2025-08-11 23:21:08,452 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:21:13,457 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:21:13,458 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:21:13,458 - src.main - INFO - Graceful shutdown completed\n"
        }
      ],
      "error_details": [
        {
          "test": "test_complete_system_integration (tests.test_comprehensive_validation.TestAllRequirementsIntegration.test_complete_system_integration)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 803, in test_complete_system_integration\n    app.product_service.update_price_manually(product.id, 139.99)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ProductService' object has no attribute 'update_price_manually'\n\nStdout:\n2025-08-11 23:19:48,526 - src.main - INFO - Basic logging initialized\n2025-08-11 23:19:48,527 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:19:48,527 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpgukck0nl/validation_config.properties\n2025-08-11 23:19:48,527 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:19:48,528 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:19:48,528 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:19:48,528 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:19:48,528 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:19:48,528 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:19:48,528 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpgukck0nl/validation_database.db\n2025-08-11 23:19:48,534 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmpgukck0nl/validation_database.db\n2025-08-11 23:19:48,534 - src.main - INFO - Initializing services...\n2025-08-11 23:19:48,534 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:19:48,534 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:19:48,550 - src.services.email_service - ERROR - Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:19:48,551 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:19:48,551 - src.main - INFO - All services initialized successfully\n2025-08-11 23:19:48,551 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:19:48,552 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:19:48,552 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:19:48,552 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:19:48,554 - src.main - INFO - Flask application initialized\n2025-08-11 23:19:48,554 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:19:48,554 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:19:48,554 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:19:48,555 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:19:48,555 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:19:48,555 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:19:48,555 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:19:48,555 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:19:48,564 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:19:53,570 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:19:53,570 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:19:53,571 - src.main - INFO - Graceful shutdown completed\n"
        },
        {
          "test": "test_manual_price_update_workflow (tests.test_comprehensive_validation.TestRequirement7ManualPriceUpdates.test_manual_price_update_workflow)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_comprehensive_validation.py\", line 608, in test_manual_price_update_workflow\n    update_result = app.product_service.update_price_manually(product.id, manual_price)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ProductService' object has no attribute 'update_price_manually'\n\nStdout:\n2025-08-11 23:20:54,879 - src.main - INFO - Basic logging initialized\n2025-08-11 23:20:54,879 - src.main - INFO - Starting Price Monitor application initialization...\n2025-08-11 23:20:54,879 - src.main - INFO - Loading configuration from: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmp1lo6xz4w/validation_config.properties\n2025-08-11 23:20:54,880 - src.main - INFO - Log level set to: INFO\n2025-08-11 23:20:54,880 - src.main - INFO - Additional log file: logs/price_monitor.log\n2025-08-11 23:20:54,880 - src.main - INFO - Configuration loaded successfully\n2025-08-11 23:20:54,880 - src.main - INFO - Initializing comprehensive logging service...\n2025-08-11 23:20:54,881 - src.services.logging_service - INFO - Logging service initialized\n2025-08-11 23:20:54,881 - src.main - INFO - Comprehensive logging service initialized\n2025-08-11 23:20:54,881 - src.main - INFO - Initializing database...\nDatabase initialized at: sqlite:////var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmp1lo6xz4w/validation_database.db\n2025-08-11 23:20:54,886 - src.main - INFO - Database initialized: /var/folders/8q/ll98z0714m100_v068bvs_nw0000gn/T/tmp1lo6xz4w/validation_database.db\n2025-08-11 23:20:54,886 - src.main - INFO - Initializing services...\n2025-08-11 23:20:54,886 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:54,886 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:54,913 - src.services.email_service - ERROR - Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:54,914 - src.main - WARNING - Email service initialized but connection test failed: Email connection test failed: 'Mock' object does not support the context manager protocol\n2025-08-11 23:20:54,915 - src.main - INFO - All services initialized successfully\n2025-08-11 23:20:54,915 - src.main - INFO - Initializing Flask application...\n2025-08-11 23:20:54,916 - src.services.parser_service - INFO - Registered parser: StructuredDataParser\n2025-08-11 23:20:54,916 - src.services.parser_service - INFO - Registered parser: HtmlCssParser\n2025-08-11 23:20:54,916 - src.security.security_service - INFO - mTLS disabled, skipping certificate loading\n2025-08-11 23:20:54,919 - src.main - INFO - Flask application initialized\n2025-08-11 23:20:54,919 - src.main - INFO - Starting price monitoring scheduler...\n2025-08-11 23:20:54,919 - src.services.price_monitor_service - INFO - Scheduled daily price checks at 09:00\n2025-08-11 23:20:54,919 - src.services.price_monitor_service - INFO - Price monitoring scheduler started\n2025-08-11 23:20:54,919 - src.main - INFO - Price monitoring scheduler started (daily at 09:00)\n2025-08-11 23:20:54,919 - src.main - INFO - Scheduled daily logging data cleanup at 02:00\n2025-08-11 23:20:54,919 - src.main - INFO - Price Monitor application initialized successfully\n2025-08-11 23:20:54,919 - src.services.parser_service - INFO - Starting product parsing for URL: https://example.com/product/1\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - Attempting to parse with StructuredDataParser\n2025-08-11 23:20:54,920 - src.parsers.product_parser.StructuredDataParser - INFO - Successfully parsed structured data: Premium Test Widget - $149.99\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - Parser StructuredDataParser succeeded with confidence 0.9\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - High confidence result from StructuredDataParser, stopping\n2025-08-11 23:20:54,920 - src.services.parser_service - INFO - Best parsing result from StructuredDataParser with confidence 0.9\n2025-08-11 23:20:54,925 - src.main - INFO - Initiating graceful shutdown...\n2025-08-11 23:20:59,927 - src.services.price_monitor_service - INFO - Price monitoring scheduler stopped\n2025-08-11 23:20:59,928 - src.main - ERROR - Error closing database: 'DatabaseManager' object has no attribute 'close'\n2025-08-11 23:20:59,930 - src.main - INFO - Graceful shutdown completed\n"
        }
      ],
      "skipped_details": []
    },
    {
      "module": "test_end_to_end_integration",
      "execution_error": "[Errno 5] Input/output error",
      "tests_run": 0,
      "success": false
    },
    {
      "module": "test_docker_integration",
      "import_error": "No module named 'docker'",
      "tests_run": 0,
      "success": false
    },
    {
      "module": "test_static_web_functionality",
      "import_error": "No module named 'selenium'",
      "tests_run": 0,
      "success": false
    },
    {
      "module": "test_mtls_integration",
      "tests_run": 5,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_certificate_info_extraction (tests.test_mtls_integration.TestMTLSIntegration.test_certificate_info_extraction)\nTest certificate information extraction. ... ok\ntest_certificate_validation_without_ca (tests.test_mtls_integration.TestMTLSIntegration.test_certificate_validation_without_ca)\nTest certificate validation when CA bundle is not loaded. ... ok\ntest_complete_certificate_workflow (tests.test_mtls_integration.TestMTLSIntegration.test_complete_certificate_workflow)\nTest complete certificate loading and validation workflow. ... ok\ntest_invalid_certificate_rejection (tests.test_mtls_integration.TestMTLSIntegration.test_invalid_certificate_rejection)\nTest that invalid certificates are properly rejected. ... ok\ntest_ssl_context_creation (tests.test_mtls_integration.TestMTLSIntegration.test_ssl_context_creation)\nTest SSL context creation with real certificates. ... ok\n\n----------------------------------------------------------------------\nRan 5 tests in 0.821s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_price_monitor_email_integration",
      "import_error": "cannot import name 'ParsingResult' from 'src.models.web_scraping' (/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/../src/models/web_scraping.py)",
      "tests_run": 0,
      "success": false
    },
    {
      "module": "test_product_management_integration",
      "tests_run": 6,
      "failures": 5,
      "errors": 1,
      "skipped": 0,
      "success": false,
      "output": "test_complete_product_workflow (tests.test_product_management_integration.TestProductManagementIntegration.test_complete_product_workflow)\nTest complete product management workflow from add to delete. ... ERROR\ntest_error_handling_in_workflow (tests.test_product_management_integration.TestProductManagementIntegration.test_error_handling_in_workflow)\nTest error handling throughout the product management workflow. ... FAIL\ntest_price_change_calculation (tests.test_product_management_integration.TestProductManagementIntegration.test_price_change_calculation)\nTest that price change information is calculated correctly. ... FAIL\ntest_product_deletion_with_confirmation (tests.test_product_management_integration.TestProductManagementIntegration.test_product_deletion_with_confirmation)\nTest product deletion with confirmation workflow. ... FAIL\ntest_product_listing_validation (tests.test_product_management_integration.TestProductManagementIntegration.test_product_listing_validation)\nTest validation of product listing parameters. ... FAIL\ntest_product_listing_with_filtering_and_sorting (tests.test_product_management_integration.TestProductManagementIntegration.test_product_listing_with_filtering_and_sorting)\nTest product listing with various filtering and sorting options. ... FAIL\n\n======================================================================\nERROR: test_complete_product_workflow (tests.test_product_management_integration.TestProductManagementIntegration.test_complete_product_workflow)\nTest complete product management workflow from add to delete.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 226, in test_complete_product_workflow\n    page_content=PageContent(html=\"<html>Test</html>\", url=\"https://example.com/new-product\")\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: PageContent.__init__() missing 2 required positional arguments: 'status_code' and 'headers'\n\n======================================================================\nFAIL: test_error_handling_in_workflow (tests.test_product_management_integration.TestProductManagementIntegration.test_error_handling_in_workflow)\nTest error handling throughout the product management workflow.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 379, in test_error_handling_in_workflow\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n\n======================================================================\nFAIL: test_price_change_calculation (tests.test_product_management_integration.TestProductManagementIntegration.test_price_change_calculation)\nTest that price change information is calculated correctly.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 356, in test_price_change_calculation\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n\n======================================================================\nFAIL: test_product_deletion_with_confirmation (tests.test_product_management_integration.TestProductManagementIntegration.test_product_deletion_with_confirmation)\nTest product deletion with confirmation workflow.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 201, in test_product_deletion_with_confirmation\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n\n======================================================================\nFAIL: test_product_listing_validation (tests.test_product_management_integration.TestProductManagementIntegration.test_product_listing_validation)\nTest validation of product listing parameters.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 170, in test_product_listing_validation\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n\n======================================================================\nFAIL: test_product_listing_with_filtering_and_sorting (tests.test_product_management_integration.TestProductManagementIntegration.test_product_listing_with_filtering_and_sorting)\nTest product listing with various filtering and sorting options.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 122, in test_product_listing_with_filtering_and_sorting\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n\n----------------------------------------------------------------------\nRan 6 tests in 0.028s\n\nFAILED (failures=5, errors=1)\n",
      "failure_details": [
        {
          "test": "test_error_handling_in_workflow (tests.test_product_management_integration.TestProductManagementIntegration.test_error_handling_in_workflow)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 379, in test_error_handling_in_workflow\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n"
        },
        {
          "test": "test_price_change_calculation (tests.test_product_management_integration.TestProductManagementIntegration.test_price_change_calculation)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 356, in test_price_change_calculation\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n"
        },
        {
          "test": "test_product_deletion_with_confirmation (tests.test_product_management_integration.TestProductManagementIntegration.test_product_deletion_with_confirmation)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 201, in test_product_deletion_with_confirmation\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n"
        },
        {
          "test": "test_product_listing_validation (tests.test_product_management_integration.TestProductManagementIntegration.test_product_listing_validation)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 170, in test_product_listing_validation\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n"
        },
        {
          "test": "test_product_listing_with_filtering_and_sorting (tests.test_product_management_integration.TestProductManagementIntegration.test_product_listing_with_filtering_and_sorting)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 122, in test_product_listing_with_filtering_and_sorting\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n"
        }
      ],
      "error_details": [
        {
          "test": "test_complete_product_workflow (tests.test_product_management_integration.TestProductManagementIntegration.test_complete_product_workflow)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_product_management_integration.py\", line 226, in test_complete_product_workflow\n    page_content=PageContent(html=\"<html>Test</html>\", url=\"https://example.com/new-product\")\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: PageContent.__init__() missing 2 required positional arguments: 'status_code' and 'headers'\n"
        }
      ],
      "skipped_details": []
    },
    {
      "module": "test_web_interface",
      "tests_run": 7,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_font_awesome_integration (tests.test_web_interface.TestWebInterface.test_font_awesome_integration)\nTest that Font Awesome is integrated for icons. ... ok\ntest_html_contains_required_elements (tests.test_web_interface.TestWebInterface.test_html_contains_required_elements)\nTest that the HTML contains required elements for functionality. ... ok\ntest_index_page_serves (tests.test_web_interface.TestWebInterface.test_index_page_serves)\nTest that the index page is served correctly. ... ok\ntest_responsive_design_meta_tag (tests.test_web_interface.TestWebInterface.test_responsive_design_meta_tag)\nTest that responsive design meta tag is present. ... ok\ntest_static_css_serves (tests.test_web_interface.TestWebInterface.test_static_css_serves)\nTest that CSS files are served correctly. ... ok\ntest_static_files_have_correct_content_type (tests.test_web_interface.TestWebInterface.test_static_files_have_correct_content_type)\nTest that static files have correct content types. ... ok\ntest_static_js_serves (tests.test_web_interface.TestWebInterface.test_static_js_serves)\nTest that JavaScript files are served correctly. ... ok\n\n----------------------------------------------------------------------\nRan 7 tests in 0.027s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_api_integration",
      "tests_run": 6,
      "failures": 4,
      "errors": 0,
      "skipped": 0,
      "success": false,
      "output": "test_add_product_validation (tests.test_api_integration.TestProductAPIIntegration.test_add_product_validation)\nTest input validation for adding products. ... FAIL\ntest_api_endpoints_exist (tests.test_api_integration.TestProductAPIIntegration.test_api_endpoints_exist)\nTest that all required API endpoints exist. ... FAIL\ntest_error_handlers (tests.test_api_integration.TestProductAPIIntegration.test_error_handlers)\nTest error handlers. ... ok\ntest_get_products_endpoint_structure (tests.test_api_integration.TestProductAPIIntegration.test_get_products_endpoint_structure)\nTest the structure of the get products endpoint response. ... FAIL\ntest_health_endpoint (tests.test_api_integration.TestProductAPIIntegration.test_health_endpoint)\nTest the health check endpoint. ... ok\ntest_price_update_validation (tests.test_api_integration.TestProductAPIIntegration.test_price_update_validation)\nTest input validation for price updates. ... FAIL\n\n======================================================================\nFAIL: test_add_product_validation (tests.test_api_integration.TestProductAPIIntegration.test_add_product_validation)\nTest input validation for adding products.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 129, in test_add_product_validation\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n\n======================================================================\nFAIL: test_api_endpoints_exist (tests.test_api_integration.TestProductAPIIntegration.test_api_endpoints_exist)\nTest that all required API endpoints exist.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 241, in test_api_endpoints_exist\n    self.assertIn(method, route_methods,\nAssertionError: 'POST' not found in ['HEAD', 'OPTIONS', 'GET'] : Method POST not found for endpoint /api/products\n\n======================================================================\nFAIL: test_get_products_endpoint_structure (tests.test_api_integration.TestProductAPIIntegration.test_get_products_endpoint_structure)\nTest the structure of the get products endpoint response.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 93, in test_get_products_endpoint_structure\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n\n======================================================================\nFAIL: test_price_update_validation (tests.test_api_integration.TestProductAPIIntegration.test_price_update_validation)\nTest input validation for price updates.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 163, in test_price_update_validation\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n\n----------------------------------------------------------------------\nRan 6 tests in 0.021s\n\nFAILED (failures=4)\n",
      "failure_details": [
        {
          "test": "test_add_product_validation (tests.test_api_integration.TestProductAPIIntegration.test_add_product_validation)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 129, in test_add_product_validation\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n"
        },
        {
          "test": "test_api_endpoints_exist (tests.test_api_integration.TestProductAPIIntegration.test_api_endpoints_exist)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 241, in test_api_endpoints_exist\n    self.assertIn(method, route_methods,\nAssertionError: 'POST' not found in ['HEAD', 'OPTIONS', 'GET'] : Method POST not found for endpoint /api/products\n"
        },
        {
          "test": "test_get_products_endpoint_structure (tests.test_api_integration.TestProductAPIIntegration.test_get_products_endpoint_structure)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 93, in test_get_products_endpoint_structure\n    self.assertEqual(response.status_code, 200)\nAssertionError: 401 != 200\n"
        },
        {
          "test": "test_price_update_validation (tests.test_api_integration.TestProductAPIIntegration.test_price_update_validation)",
          "traceback": "Traceback (most recent call last):\n  File \"/Users/a/Documents/projects/ai-price-checker/ai-price-checker/tests/../tests/test_api_integration.py\", line 163, in test_price_update_validation\n    self.assertEqual(response.status_code, 400)\nAssertionError: 401 != 400\n"
        }
      ],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_main_application",
      "tests_run": 0,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nNO TESTS RAN\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_config_integration",
      "tests_run": 4,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_complete_configuration_workflow (tests.test_config_integration.TestConfigIntegration.test_complete_configuration_workflow)\nTest the complete configuration loading and validation workflow. ... ok\ntest_configuration_error_handling (tests.test_config_integration.TestConfigIntegration.test_configuration_error_handling)\nTest comprehensive error handling in configuration loading. ... ok\ntest_default_config_file_creation_and_loading (tests.test_config_integration.TestConfigIntegration.test_default_config_file_creation_and_loading)\nTest creating and loading a default configuration file. ... ok\ntest_minimal_valid_configuration (tests.test_config_integration.TestConfigIntegration.test_minimal_valid_configuration)\nTest loading a minimal but valid configuration. ... ok\n\n----------------------------------------------------------------------\nRan 4 tests in 0.003s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_logging_integration",
      "tests_run": 4,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_application_initialization_with_logging (tests.test_logging_integration.TestLoggingIntegration.test_application_initialization_with_logging)\nTest that the application initializes correctly with logging service. ... ok\ntest_logging_service_error_tracking (tests.test_logging_integration.TestLoggingIntegration.test_logging_service_error_tracking)\nTest that error tracking works in the application context. ... ok\ntest_logging_service_performance_monitoring (tests.test_logging_integration.TestLoggingIntegration.test_logging_service_performance_monitoring)\nTest that performance monitoring works in the application context. ... ok\ntest_structured_logging_output (tests.test_logging_integration.TestLoggingIntegration.test_structured_logging_output)\nTest that structured logging produces JSON output. ... ok\n\n----------------------------------------------------------------------\nRan 4 tests in 20.169s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_parsing_integration",
      "tests_run": 9,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_end_to_end_workflow (tests.test_parsing_integration.TestParsingIntegration.test_end_to_end_workflow)\nTest the complete end-to-end workflow from URL to parsed product. ... ok\ntest_parse_html_product_fallback (tests.test_parsing_integration.TestParsingIntegration.test_parse_html_product_fallback)\nTest parsing a product page with HTML/CSS selectors as fallback. ... ok\ntest_parse_invalid_product_data (tests.test_parsing_integration.TestParsingIntegration.test_parse_invalid_product_data)\nTest parsing a page with invalid product data. ... ok\ntest_parse_microdata_product (tests.test_parsing_integration.TestParsingIntegration.test_parse_microdata_product)\nTest parsing a product page with microdata. ... ok\ntest_parse_multiple_strategies_best_wins (tests.test_parsing_integration.TestParsingIntegration.test_parse_multiple_strategies_best_wins)\nTest that the best parsing strategy wins when multiple can parse. ... ok\ntest_parse_no_product_data (tests.test_parsing_integration.TestParsingIntegration.test_parse_no_product_data)\nTest parsing a page with no product data. ... ok\ntest_parse_structured_data_product (tests.test_parsing_integration.TestParsingIntegration.test_parse_structured_data_product)\nTest parsing a product page with structured data. ... ok\ntest_parser_capability_testing (tests.test_parsing_integration.TestParsingIntegration.test_parser_capability_testing)\nTest the parser capability testing functionality. ... ok\ntest_parser_service_stats (tests.test_parsing_integration.TestParsingIntegration.test_parser_service_stats)\nTest getting parser service statistics. ... ok\n\n----------------------------------------------------------------------\nRan 9 tests in 0.037s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_price_monitor_error_handling",
      "tests_run": 18,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_calculate_retry_delay (tests.test_price_monitor_error_handling.TestErrorHandling.test_calculate_retry_delay)\nTest exponential backoff calculation. ... ok\ntest_clear_error_history (tests.test_price_monitor_error_handling.TestErrorHandling.test_clear_error_history)\nTest clearing error history and failure tracking. ... ok\ntest_error_history_limit (tests.test_price_monitor_error_handling.TestErrorHandling.test_error_history_limit)\nTest that error history is limited to prevent memory issues. ... ok\ntest_error_record_creation (tests.test_price_monitor_error_handling.TestErrorHandling.test_error_record_creation)\nTest ErrorRecord data class. ... ok\ntest_error_recording (tests.test_price_monitor_error_handling.TestErrorHandling.test_error_recording)\nTest error recording functionality. ... ok\ntest_failure_tracking_and_reset (tests.test_price_monitor_error_handling.TestErrorHandling.test_failure_tracking_and_reset)\nTest failure tracking and reset on success. ... ok\ntest_get_error_summary (tests.test_price_monitor_error_handling.TestErrorHandling.test_get_error_summary)\nTest error summary generation. ... ok\ntest_get_error_summary_no_errors (tests.test_price_monitor_error_handling.TestErrorHandling.test_get_error_summary_no_errors)\nTest error summary when no errors exist. ... ok\ntest_get_failing_products (tests.test_price_monitor_error_handling.TestErrorHandling.test_get_failing_products)\nTest getting list of failing products. ... ok\ntest_invalid_price_handling (tests.test_price_monitor_error_handling.TestErrorHandling.test_invalid_price_handling)\nTest handling of invalid prices during check. ... ok\ntest_is_valid_price (tests.test_price_monitor_error_handling.TestErrorHandling.test_is_valid_price)\nTest price validation. ... ok\ntest_persistent_failure_handling (tests.test_price_monitor_error_handling.TestErrorHandling.test_persistent_failure_handling)\nTest handling of persistent failures. ... ok\ntest_retry_failed_products (tests.test_price_monitor_error_handling.TestErrorHandling.test_retry_failed_products)\nTest retrying failed products. ... ok\ntest_retry_failed_products_no_failures (tests.test_price_monitor_error_handling.TestErrorHandling.test_retry_failed_products_no_failures)\nTest retrying when no products are failing. ... ok\ntest_retry_logic_all_attempts_fail (tests.test_price_monitor_error_handling.TestErrorHandling.test_retry_logic_all_attempts_fail)\nTest that retry logic eventually gives up after max retries. ... ok\ntest_retry_logic_success_after_failure (tests.test_price_monitor_error_handling.TestErrorHandling.test_retry_logic_success_after_failure)\nTest that retry logic works when first attempt fails but second succeeds. ... ok\ntest_should_skip_url_recent_failure (tests.test_price_monitor_error_handling.TestErrorHandling.test_should_skip_url_recent_failure)\nTest that URLs with recent failures are skipped. ... ok\ntest_url_skipping_in_check_product (tests.test_price_monitor_error_handling.TestErrorHandling.test_url_skipping_in_check_product)\nTest that check_product skips URLs with recent failures. ... ok\n\n----------------------------------------------------------------------\nRan 18 tests in 0.768s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    },
    {
      "module": "test_product_listing_features",
      "tests_run": 8,
      "failures": 0,
      "errors": 0,
      "skipped": 0,
      "success": true,
      "output": "test_pagination_logic (tests.test_product_listing_features.TestProductListingFeatures.test_pagination_logic)\nTest pagination logic. ... ok\ntest_price_change_calculation_logic (tests.test_product_listing_features.TestProductListingFeatures.test_price_change_calculation_logic)\nTest price change calculation logic. ... ok\ntest_product_data_serialization (tests.test_product_listing_features.TestProductListingFeatures.test_product_data_serialization)\nTest that product data is properly serialized for JSON response. ... ok\ntest_product_filtering_and_sorting_logic (tests.test_product_listing_features.TestProductListingFeatures.test_product_filtering_and_sorting_logic)\nTest the filtering and sorting logic without HTTP requests. ... ok\ntest_product_status_filtering (tests.test_product_listing_features.TestProductListingFeatures.test_product_status_filtering)\nTest filtering products by active status. ... ok\ntest_search_functionality (tests.test_product_listing_features.TestProductListingFeatures.test_search_functionality)\nTest search functionality across different fields. ... ok\ntest_sorting_edge_cases (tests.test_product_listing_features.TestProductListingFeatures.test_sorting_edge_cases)\nTest sorting with edge cases like None values. ... ok\ntest_validation_logic (tests.test_product_listing_features.TestProductListingFeatures.test_validation_logic)\nTest validation logic for API parameters. ... ok\n\n----------------------------------------------------------------------\nRan 8 tests in 0.026s\n\nOK\n",
      "failure_details": [],
      "error_details": [],
      "skipped_details": []
    }
  ],
  "environment_info": {
    "python_version": "3.12.0 (v3.12.0:0fb18b02c8, Oct  2 2023, 09:45:56) [Clang 13.0.0 (clang-1300.0.29.30)]",
    "os": "Darwin",
    "os_version": "23.6.0",
    "docker_available": true,
    "docker_version": "Docker version 24.0.7, build afdd53b",
    "docker_compose_available": true,
    "docker_compose_version": "Docker Compose version v2.23.3-desktop.2",
    "missing_files": [],
    "all_files_present": true
  },
  "coverage_info": {}
}